@using Invetker.Models
@model Transaction
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_DashboardLayout.cshtml";
}
@section Styles {
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
    <link rel="stylesheet" href="~/Styles/dashboard/transactions.css" asp-append-version="true" />
}
@section Scripts {
    <script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
    <script src="~/Scripts/dashboard/transactions.js" asp-append-version="true"></script>
}
<nav class="px-4 py-3 mb-4 breadcrumb" aria-label="breadcrumb">
    <ol class="breadcrumb mb-0">
        <li class="breadcrumb-item d-flex align-items-center gap-3">
            <svg width="16" height="16" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path id="transcations" d="M1.66663 5.83334H16.6666M13.3333 1.66667L17.5 5.83334L13.3333 10M18.3333 14.1667H3.33329M6.66663 10L2.49996 14.1667L6.66663 18.3333" stroke="#636566" stroke-width="1.5" />
            </svg>
            Transactions
        </li>
    </ol>
</nav>

<!-- Transaction Model -->
@Html.Partial("./TransactionModel")

<main class="px-4 pb-4 flex-grow-1 d-flex flex-column">
    <form name="search" class="row mb-4 align-items-center">
        <div class="col-auto">
            <label class="col-form-label" for="daterange">Date Range</label>
        </div>
        <div class="col-auto">
            <div class="input-group" id="daterangepicker">
                <input type="text" class="form-control" name="daterange" />
                <span class="input-group-text bg-light">
                    <img src="~/images/icons/calendar.svg" />
                </span>
            </div>
        </div>
        <div class="col-auto">
            <label class="col-form-label" for="ticker">Ticker</label>
        </div>
        <div class="col-auto">
            <input id="ticker" class="form-control " type="text">
        </div>
        <div class="col-auto">
            <button type="submit" class="btn btn-warning px-4">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g id="Search">
                        <path id="Search_2" d="M18.4444 20L11.4444 13C10.8889 13.4444 10.25 13.7963 9.52778 14.0556C8.80556 14.3148 8.03704 14.4444 7.22222 14.4444C5.2037 14.4444 3.49556 13.7452 2.09778 12.3467C0.700001 10.9481 0.000741329 9.24 5.8789e-07 7.22222C-0.000740153 5.20444 0.698519 3.4963 2.09778 2.09778C3.49704 0.699259 5.20519 0 7.22222 0C9.23926 0 10.9478 0.699259 12.3478 2.09778C13.7478 3.4963 14.4467 5.20444 14.4444 7.22222C14.4444 8.03704 14.3148 8.80556 14.0556 9.52778C13.7963 10.25 13.4444 10.8889 13 11.4444L20 18.4444L18.4444 20ZM7.22222 12.2222C8.61111 12.2222 9.79185 11.7363 10.7644 10.7644C11.737 9.79259 12.223 8.61185 12.2222 7.22222C12.2215 5.83259 11.7356 4.65222 10.7644 3.68111C9.79333 2.71 8.61259 2.2237 7.22222 2.22222C5.83185 2.22074 4.65148 2.70704 3.68111 3.68111C2.71074 4.65519 2.22445 5.83556 2.22222 7.22222C2.22 8.60889 2.7063 9.78963 3.68111 10.7644C4.65593 11.7393 5.8363 12.2252 7.22222 12.2222Z" fill="white" />
                    </g>
                </svg>
                <span class="ms-2 text-light">Search</span>
            </button>
        </div>
    </form>

    <div id="transactions" class="card-wrap d-flex flex-column flex-grow-1">
        <div class="title">Transactions</div>
        <div class="content table-thead-fixed flex-grow-1">
            <table class="table table-striped table-hover table-borderless table-thead-uppercase">
                <thead>
                    <tr>
                        <th scope="col">Ticker</th>
                        <th scope="col">Action</th>
                        <th scope="col">Quantity</th>
                        <th scope="col">Price</th>
                        <th scope="col">Fee</th>
                        <th scope="col">Amount</th>
                        <th scope="col">Date Time</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (Transaction transaction in ViewData["Transactions"] as List<Invetker.Models.Transaction>)
                    {
                        <tr>
                            <td>@transaction.Ticker</td>
                            <td>@transaction.Action</td>
                            <td>@transaction.Quantity.ToString("n3")</td>
                            <td>@transaction.Price.ToString("n3")</td>
                            <td>@transaction.Fee.ToString("n3")</td>
                            <td>@(((@transaction.Price * @transaction.Quantity) + @transaction.Fee).ToString("n3"))</td>
                            <td>@transaction.Datetime</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</main>
